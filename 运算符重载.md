# è¿ç®—ç¬¦é‡è½½
è¿ç®—ç¬¦çš„é‡è½½å®é™…ä¸Šæ˜¯é€šè¿‡å‡½æ•°é‡è½½å®ç°çš„ã€‚
ä¸€èˆ¬æ ¼å¼ï¼š   
**å‡½æ•°ç±»å‹ operator è¿ç®—ç¬¦åç§°ï¼ˆå‚æ•°åˆ—è¡¨ï¼‰**  
**{å¯¹è¿ç®—ç¬¦çš„é‡è½½å¤„ç†}**
ä¸Šé¢çš„é‡è½½æ ¼å¼ä¸­ï¼Œâ€œoperator +â€å°±æ˜¯é‡è½½å‡½æ•°çš„å‡½æ•°åï¼Œæ„ä¸ºå¯¹â€œ+â€è¿ç®—ç¬¦çš„é‡è½½å‡½æ•°     
ä¾‹å¦‚ï¼Œæƒ³å°†"+"é‡è½½ä¸ºå¯¹complexï¼ˆå¤æ•°ï¼‰ç±»çš„åŠ æ³•è¿ç®—ï¼Œå‡½æ•°åŸå‹å¯ä»¥ä¸ºï¼š  
`Complex operator + (Comples &c1, Complex &c2);`

çœ‹ä¸€æ®µä»£ç ğŸ˜Š
```
# include<iostream>
using namespace std;
class Complex
{
public:
	int real;
	int image;
	Complex()       //æ„é€ å‡½æ•°
	{
		real=0;
		image=0;
	}
	Complex(int r, int i)   //æ„é€ å‡½æ•°é‡è½½
	{
		real = r;
		image = i;
	}
	Complex operator + (Complex &c1);     //å£°æ˜é‡è½½è¿ç®—ç¬¦çš„å‡½æ•°
	
};
Complex Complex::operator + (Complex &c1)    //å®šä¹‰è¿ç®—ç¬¦é‡è½½å‡½æ•°
{
	Complex c;
	c.real= real + c1.real;
	c.image = image + c1.image;
	return c;
}

int main()
{
	Complex c1(2,5),c2(4,6),c3;
	c3=c1+c2;    
	cout<<"c1+c2="<<c3.real<<"+"<<c3.image<<"i"<<endl;
	return 0;
}
```
**è¿ç®—ç¬¦é‡è½½å‡½æ•°æ—¢å¯ä»¥ä½œä¸ºæˆå‘˜å‡½æ•°ä¹Ÿå¯ä»¥ä½œä¸ºå‹å…ƒå‡½æ•°**
**ä¸Šé¢é‚£æ®µä»£ç æ˜¯å°†è¿ç®—ç¬¦é‡è½½å‡½æ•°ä½œä¸ºæˆå‘˜å‡½æ•°ï¼Œä¸‹é¢åˆ™æ˜¯ä½œä¸ºå‹å…ƒå‡½æ•°**
```
# include<iostream.h>
class Complex
{
public:
	int real;
	int image;
	Complex()       //æ„é€ å‡½æ•°
	{
		real=0;
		image=0;
	}
	Complex(int r, int i)   //æ„é€ å‡½æ•°é‡è½½
	{
		real = r;
		image = i;
	}
	friend Complex operator + (Complex &c1,Complex &c2);     //å£°æ˜é‡è½½è¿ç®—ç¬¦çš„å‡½æ•°
	
};
Complex operator + (Complex &c1,Complex &c2)   //å®šä¹‰è¿ç®—ç¬¦é‡è½½å‡½æ•°
{
	Complex c;
	c.real= c1.real + c2.real;
	c.image = c1.image + c2.image;
	return c;
}

int main()
{
	Complex c1(2,5),c2(4,6),c3;
	c3=c1+c2;    
	cout<<"c1+c2="<<c3.real<<"+"<<c3.image<<"i"<<endl;
	return 0;
}
```

**å†çœ‹ä¸€æ®µä»£ç **
```
# include<iostream.h>
class Complex
{
public:
	int real;
	int image;
	Complex()       //æ„é€ å‡½æ•°
	{
		real=0;
		image=0;
	}
	Complex(int r, int i)   //æ„é€ å‡½æ•°é‡è½½
	{
		real = r;
		image = i;
	}
	friend Complex operator + (Complex &c1,Complex &c2);     //å£°æ˜é‡è½½è¿ç®—ç¬¦çš„å‡½æ•°,ä½œä¸ºå‹å…ƒå‡½æ•°
	Complex operator + (int &c1);     //å£°æ˜é‡è½½è¿ç®—ç¬¦çš„å‡½æ•°ï¼Œä½œä¸ºæˆå‘˜å‡½æ•°
	
	
};
Complex operator + (Complex &c1,Complex &c2)   //å‹å…ƒå‡½æ•°çš„å®šä¹‰
{
	Complex c;
	c.real= c1.real + c2.real;
	c.image = c1.image + c2.image;
	return c;
}
Complex Complex::operator + (int &i)    //æˆå‘˜å‡½æ•°çš„å®šä¹‰
{
	Complex c;
	c.real= real + i;
	c.image = image ;
	return c;
}

int main()
{
	Complex c1(2,5),c2(4,6),c3,c4;
	int i=5;

	c3=c1+c2;    
	cout<<"c1+c2="<<c3.real<<"+"<<c3.image<<"i"<<endl;
	c4=c1+i;
	cout<<"c1+c2="<<c4.real<<"+"<<c4.image<<"i"<<endl;
	return 0;
}
```
**ä¸Šé¢è¿™æ®µä»£ç å¯¹è¿ç®—ç¬¦â€œ+â€é‡è½½äº†ä¸¤æ¬¡ï¼Œä¸€æ¬¡ä½œä¸ºå‹å…ƒå‡½æ•°é‡è½½ï¼Œä¸€æ¬¡ä½œä¸ºæˆå‘˜å‡½æ•°é‡è½½ã€‚å®ç°äº†Complexç±»ä¸Complexç±»ã€Complexç±»å’ŒC++æ ‡å‡†ç±»å‹ï¼ˆintå‹ï¼‰æ•°æ®çš„ç›¸åŠ **


**é‡è½½æ—¶ä½œä¸ºå‹å…ƒå‡½æ•°å’Œæˆå‘˜å‡½æ•°çš„åŒºåˆ«ï¼š**å¦‚æœé‡è½½ä¸ºå‹å…ƒå‡½æ•°ï¼Œé‚£ä¹ˆå¿…é¡»è¦åœ¨å‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­åˆ—å‡ºæ‰€æœ‰çš„æ“ä½œæ•°ï¼Œå¦‚`Complex operator + (Complex &c1,Complex &c2)  `ï¼Œè€Œå¦‚æœé‡è½½ä¸ºæˆå‘˜å‡½æ•°ï¼Œå¦‚`Complex operator + (int &c1);`æˆ–`Complex Complex::operator + (int &i)`è™½ç„¶å¯ä»¥åœ¨å‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­çœç•¥ä¸€ä¸ªå‚æ•°ï¼Œä½†æ˜¯åœ¨è¿ç®—ç¬¦çš„å·¦ä¾§å¿…é¡»æ˜¯Complexç±»çš„å¯¹è±¡
```
å³ï¼Œå¦‚æœé‡è½½ä¸ºæˆå‘˜å‡½æ•° Complex operator + (int &c1)ï¼š
c2=c1+i;      //æ­£ç¡®
c2=i+c1;      //é”™è¯¯ï¼Œ+å·¦ä¾§é¡»ä¸ºComplexç±»å¯¹è±¡
```

**å¦‚æœé‡è½½ä¸ºæˆå‘˜å‡½æ•°ï¼Œä½†æ˜¯åœ¨å‚æ•°åˆ—è¡¨ä¸­ä¸çœç•¥å‚æ•°å‘¢ï¼Ÿ**
```
# include<iostream.h>
class Complex
{
public:
	int real;
	int image;
	Complex()       //æ„é€ å‡½æ•°
	{
		real=0;
		image=0;
	}
	Complex(int r, int i)   //æ„é€ å‡½æ•°é‡è½½
	{
		real = r;
		image = i;
	}
//	friend Complex operator + (Complex &c1,Complex &c2);     //å£°æ˜é‡è½½è¿ç®—ç¬¦çš„å‡½æ•°,ä½œä¸ºå‹å…ƒå‡½æ•°
	Complex operator + (int &i, Complex &c2);     //å£°æ˜é‡è½½è¿ç®—ç¬¦çš„å‡½æ•°ï¼Œä½œä¸ºæˆå‘˜å‡½æ•°
	
	
};

Complex Complex::operator + (int &i, Complex &c2)    //æˆå‘˜å‡½æ•°çš„å®šä¹‰
{
	Complex c;
	c.real= c2.real + i;
	c.image = image ;
	return c;
}

int main()
{
	Complex c1(2,5),c2(4,6),c3,c4;
	int i=5;

//	c3=c1+c2;    
//	cout<<"c1+c2="<<c3.real<<"+"<<c3.image<<"i"<<endl;
	c4=c1+i;
	cout<<"i+c1="<<c4.real<<"+"<<c4.image<<"i"<<endl;
	return 0;
}

è¿è¡Œç»“æœï¼š
--------------------Configuration: project2 - Win32 Debug--------------------
Compiling...
project2.cpp
E:\CPP-learning\project2.cpp(18) : error C2804: binary 'operator +' has too many parameters
E:\CPP-learning\project2.cpp(38) : error C2676: binary '+' : 'class Complex' does not define this operator or a conversion to a type acceptable to the predefined operator
æ‰§è¡Œ cl.exe æ—¶å‡ºé”™.

project2.exe - 1 error(s), 0 warning(s)

```
åŸå› å¾ˆç®€å•ï¼š**å¦‚æœæŒ‰ç…§ä¸Šé¢ä»£ç ä¸­çš„è¿ç®—ç¬¦é‡è½½æ–¹å¼ï¼Œæ˜¾ç„¶æˆå‘˜å‡½æ•°å¹¶æ²¡æœ‰è®¿é—®ç±»çš„æ•°æ®æˆå‘˜ï¼Œè€Œæ˜¯ä»…ä»…è®¿é—®äº†å¤–éƒ¨å˜é‡ï¼Œè¿™ä¸æˆå‘˜å‡½æ•°çš„ä½œç”¨ç›¸çŸ›ç›¾ã€‚å› æ­¤ç¼–è¯‘é”™è¯¯ï¼Œæ˜¾ç¤ºé‡è½½å‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­æœ‰å¤ªå¤šçš„å‚æ•°ã€‚**

å¦å¤–ï¼Œç©¶ç«Ÿä»€ä¹ˆæ—¶å€™è¿ç®—ç¬¦åº”è¯¥é‡è½½ä¸ºå‹å…ƒå‡½æ•°ï¼Œä»€ä¹ˆæ—¶å€™é‡è½½ä¸ºæˆå‘˜å‡½æ•°ä¹Ÿæ˜¯æœ‰è§„å®šçš„ã€‚


# å†çœ‹ä¸€ä¸ªä¾‹å­ï¼Œé‡è½½â€œ>â€ï¼Œä½¿å¾—é€šè¿‡">"å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°ã€‚
## å…ˆå®šä¹‰ä¸€ä¸ªStringç±»
```
# include<iostream>
using namespace std;
class String
{
public:
	String()
	{
		p=NULL;
	}
	String(char *str);
	void display();
private:
	char *p;

};
String::String(char *str)
	{
		p = str;
	}
void String::display()
{
	cout<<p<<endl;
}

int main()
{
	String str1("Hello"), str2("Book");
	str1.display();
	str2.display();
	return 0;
}

```
**åŠ ä¸Šè¿ç®—ç¬¦é‡è½½çš„ä»£ç **
```
# include<iostream>
# include <string.h>
using namespace std;
class String
{
public:
	String()
	{
		p=NULL;
	}
	String(char *str);
	void display();
	friend bool operator > (String &str1, String &str2);
	
	
private:
	char *p;

};
	 bool operator > (String &str1, String &str2)
	{
		if (strcmp(str1.p,str2.p)>0)
			return true;
		else return false;
	}


String::String(char *str)
	{
		p = str;
	}
void String::display()
{
	cout<<p<<endl;
}
int main()
{
	char *p1 ="Hello", *p2 ="Book";
	String str1(p1), str2(p2);
	str1.display();
	str2.display();
	int b;
	b= (str1 > str2)?1:0;
	cout<<b<<endl;
	return 0;
}

è¿è¡Œç»“æœï¼š
[Running] cd "e:\CPP-learning\" && g++ project2.cpp -o project2 && "e:\CPP-learning\"project2
project2.cpp: In function 'int main()':
project2.cpp:38:12: warning: ISO C++ forbids converting a string constant to 'char*' [-Wwrite-strings]
  char *p1 ="Hello", *p2 ="Book";
            ^~~~~~~
project2.cpp:38:26: warning: ISO C++ forbids converting a string constant to 'char*' [-Wwrite-strings]
  char *p1 ="Hello", *p2 ="Book";
                          ^~~~~~
Hello
Book
1

```
æ³¨æ„ï¼šä¸Šé¢çš„ä»£ç åœ¨GCCç¼–è¯‘å™¨ä¸Šè¿è¡Œæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯åœ¨VC++6.0ä¸Šè¿è¡Œçš„è¯ï¼š
```
--------------------Configuration: project2 - Win32 Debug--------------------
Compiling...
project2.cpp
E:\CPP-learning\project2.cpp(21) : error C2248: 'p' : cannot access private member declared in class 'String'
        E:\CPP-learning\project2.cpp(16) : see declaration of 'p'
E:\CPP-learning\project2.cpp(21) : error C2248: 'p' : cannot access private member declared in class 'String'
        E:\CPP-learning\project2.cpp(16) : see declaration of 'p'
E:\CPP-learning\project2.cpp(42) : error C2593: 'operator >' is ambiguous
æ‰§è¡Œ cl.exe æ—¶å‡ºé”™.

project2.exe - 1 error(s), 0 warning(s)

```
å¾—æ”¹æˆè¿™æ ·ï¼š
```
# include<iostream>
# include <string.h>
using namespace std;
class String
{
public:
	String()
	{
		p=NULL;
	}
	String(char *str);
	void display();
	friend bool operator > (String &str1, String &str2)
	{
		if (strcmp(str1.p,str2.p)>0)
			return true;
		else return false;
	}
	
private:
	char *p;

};
//	 bool operator > (String &str1, String &str2)
//	{
//		if (strcmp(str1.p,str2.p)>0)
//			return true;
//		else return false;
//	}


String::String(char *str)
	{
		p = str;
	}
void String::display()
{
	cout<<p<<endl;
}
int main()
{
	char *p1 ="Hello", *p2 ="Book";
	String str1(p1), str2(p2);
	str1.display();
	str2.display();
	int b;
	b= (str1 > str2)?1:0;
	cout<<b<<endl;
	return 0;
}

è¿è¡Œç»“æœï¼š
Hello
Book
1
Press any key to continue

```

**é‡è½½++ å…ˆè‡ªå¢1ä½¿ç”¨è‡ªå¢1åçš„å˜é‡å€¼**
```
# include <iostream>
using namespace std;
class Time
{
    public:
        Time()
        {
            min=0;
            sec=0;
        }
        Time(int m, int s):min(m),sec(s){}
        Time operator ++(); //é‡è½½++
        void display()
            {
                cout<<min<<":"<<sec<<endl;
            }
    private:
        int min;
        int sec;
};
Time Time::operator ++()
{
    if (++sec>=60)
    {  sec-=60;
        min++;
    }
      
return *this;
}

int main()
{
Time t1(12,35);
++t1;
t1.display();
    return 0;
}
```

**é‡è½½++ï¼Œå…ˆä½¿ç”¨å˜é‡å€¼ï¼Œå†åè‡ªå¢**
```
# include <iostream>
using namespace std;
class Time
{
    public:
        Time()
        {
            min=0;
            sec=0;
        }
        Time(int m, int s):min(m),sec(s){}
        Time operator ++(int); //é‡è½½++
        void display()
            {
                cout<<min<<":"<<sec<<endl;
            }
    private:
        int min;
        int sec;
};
Time Time::operator ++(int)
{
    Time temp = *this;
    if (++sec>=60)
    {  sec-=60;
        min++;
    }
      
return temp;
}

int main()
{
Time t1(12,35), t2;
t2=t1++;

t1.display();
t2.display();
    return 0;
}
```

**é‡è½½<<**

```
# include <iostream>
using namespace std;

class Complex
{
public:
	Complex()
	{
	real=0;
	image=0;
	}
	Complex(int r, int i): real(r), image(i){}
	friend ostream& operator << (ostream &, Complex &);

private:
	int real;
	int image;
};
ostream& operator << (ostream & cout, Complex & c1)
{
	
	cout<<c1.real<<"+"<<c1.image<<"i"<<endl;
	return cout;   
}

int main()
{
	Complex c1(3,5),c2(4,5);
	cout<<c1<<c2<<endl;
return 0;
}

```
**æ³¨æ„ï¼š**åœ¨é‡è½½å‹å…ƒå‡½æ•°çš„å®šä¹‰ä¸­ï¼Œå¿…é¡»è¦è¿”å›ostreamç±»çš„å½¢å‚å¯¹è±¡åï¼ˆæ­¤å¤„ä¸ºcoutï¼‰ï¼Œä¸èƒ½è‡ªå·±å†å®šä¹‰ä¸€ä¸ª`ostream cout1` ç„¶å ` return cout`


**é‡è½½ >>è¿ç®—ç¬¦**ï¼Œ æ–¹æ³•ä¸**é‡è½½<<è¿ç®—ç¬¦ç±»ä¼¼**